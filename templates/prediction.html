{% extends "boiler.html" %}

{% block title %} Orders {% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/analytics.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/prediction.js"></script>

    <script>
        const weekData = {
            labels: {{ week_labels | safe }},
            values: {{ week_values | safe }},
            type: "line"
        };

        const monthData = {
            labels: {{ month_labels | safe }},
            values: {{ month_values | safe }},
            type: "bar"
        };

        const yearData = {
            labels: ["Next Year"],
            values: [{{ year_total }}],
            type: "bar"
        };
    </script>

{% endblock %}

{% block content %}
<main style="flex-direction: column;">
    <h1>Sales Predictions</h1>
    <div style="display: flex;">
        <button class="toggle-button" id='monthButton' style="border-radius: 10px 0px 0px 10px; border-right: 2px solid rgba(106,146,207,0.5)" onclick="switchView('week')">Week</button>
        <button class="toggle-button" onclick="switchView('month')">Month</button>
        <button class="toggle-button" style="border-radius: 0 10px 10px 0; border-left: 2px solid rgba(106,146,207,0.5)" onclick="switchView('year')">Year</button>
    </div>
        
    <div style="width: 600px; margin-top: 1%;">
        <canvas id="salesChart"></canvas>
    </div>
</main>
{% endblock %}